timezone: Asia/Tokyo
universe:
  kind: csv
  path: universe.csv
market:
  currency: JPY
  min_avg_value_traded_jpy: 50000000
data:
  provider: localcsv  # use local CSV cache only (no Stooq network)
  lookback_days: 520
stooq:
  throttle_sec: 2
  cache_max_age_sec: 604800
  allow_stale_on_limit: true
  keep_daily_csv: true
  daily_cache_dir: data_cache_daily
dummy:
  enabled: false
  only_when_all_failed: true
paper_trading:
  enabled: true
  top_k: 5
  initial_cash_jpy: 3000000
  lot_size: 100
  buy_min_lot_if_affordable: true
  price_source: yahoo_jp
  # Do NOT use local cache fallback (per request). Only scrape Yahoo JP HTML.
  fallback_local: false
  fallback_pick_close: false
  rebalance: daily
  fees:
    enabled: false
    rate: 0
yahoo_jp:
  # Yahoo Japan quote symbol template. For TSE it's usually {code}.T
  symbol_template: "{code}.T"
  # Some pages show price on /forum as well; enable if you want that exact URL style.
  use_forum_page: true
  timeout_sec: 15
  throttle_sec: 0.5
strategy:
  top_n: 10
  score_weights:
    momentum_63d: 0.35
    momentum_126d: 0.2
    trend_ema: 0.25
    volatility_penalty: 0.2
  filters:
    above_ema_50: false
    above_ema_200: false
    min_price_jpy: 200
levels:
  entry:
    kind: breakout
    breakout_lookback: 20
    buffer_atr: 0.1
  stop:
    kind: atr
    atr_period: 14
    atr_mult: 2.5
  take_profit:
    kind: rr
    rr: 2
report:
  out_dir: reports
  include_charts: false
brooks:
  enabled: true
  weight: 0.35
  tags_in_report: true
ai:
  enabled: true
  provider: openai
  model: gpt-4.1-mini
  api_key_env: OPENAI_API_KEY
  weight: 0.25
  max_candidates: 20
  # AI trade adjustment at execution time (09:30)
  trade_enabled: true
  trade_model: gpt-4.1-mini
